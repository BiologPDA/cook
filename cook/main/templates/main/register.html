{% load static%}


<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale = 1">

    <title>Регистрация</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'main/css/register.css'%}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jura:wght@300..700&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Italiana&family=Playwrite+NZ:wght@100..400&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Herr+Von+Muellerhoff&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Emilys+Candy&family=Great+Vibes&family=Herr+Von+Muellerhoff&display=swap" rel="stylesheet">
</head>

<body>
    <div class="intro">
        {% include 'main/header.html' %}
        <div class="register_header">
            <div class="container">
                <p class="name">Регистрация</p>
            </div>
        </div>
    </div>

    <div class="register">
        <div class="container">
            <div class="register_form">

                <!-- Блок для отображения сообщений -->
                {% if messages %}
                    <div class="alert alert-success">
                        {% for message in messages %}
                            <p>{{ message }}</p>
                        {% endfor %}
                    </div>
                {% endif %}

                <form method="POST" class="register_form">
                    {% csrf_token %}
                    <div class="form_input">
                        <p class="input_text">Имя</p>
                        {{ form.first_name }}
                        {% if form.first_name.errors %}
                            <div class="error">
                                {% for error in form.first_name.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form_input">
                        <p class="input_text">Фамилия</p>
                        {{ form.last_name }}
                        {% if form.last_name.errors %}
                            <div class="error">
                                {% for error in form.last_name.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form_input">
                        <p class="input_text">Номер телефона</p>
                        {{ form.phone_number }}
                        {% if form.phone_number.errors %}
                            <div class="error">
                                {% for error in form.phone_number.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form_input">
                        <p class="input_text">Логин</p>
                        {{ form.username }}
                        {% if form.username.errors %}
                            <div class="error">
                                {% for error in form.username.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form_input">
                        <p class="input_text">Пароль</p>
                        {{ form.password1 }}
                        {% if form.password1.errors %}
                            <div class="error">
                                {% for error in form.password1.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="form_input">
                        <p class="input_text">Подтверждение пароля</p>
                        {{ form.password2 }}
                        {% if form.password2.errors %}
                            <div class="error">
                                {% for error in form.password2.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <button type="submit" class="button button2">Зарегистрироваться</button>
                </form>

                <p>Уже есть аккаунт?</p>
                <a href="{% url 'login' %}" class="login_link">Войти</a>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="container">
            <div class="footer_line"></div>
            <div class="rights">
                <p>Все права защищены © 2024, Primum</p>
            </div>
        </div>
    </div>
</body>

<script>
    // JavaScript для скрытия сообщения через 5 секунд
    window.addEventListener('DOMContentLoaded', (event) => {
        setTimeout(function() {
            const messageBox = document.querySelector('.alert');
            if (messageBox) {
                messageBox.style.display = 'none';
            }
        }, 5000);  // 5000 миллисекунд = 5 секунд
    });
</script>


</html>
